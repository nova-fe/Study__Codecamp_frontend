<!doctype html>
<html lang="ko">
  <head>
    <title>this의 이해</title>
    <script>
      class 카운터클래스 {
        count = 10;

        카운트올림메서드() {
          console.log('=================================');
          console.log('카운트올림메서드 this:', this); // this: 버튼태그​ => this는 실행 주체가 누구냐에 따라 변함
          console.log('=================================');

          // console.log('카운트를 올려주면 됨');
          this.count = this.count + 1;
          console.log(this.count); // this: 버튼태그 => NaN 이 나옴. 이유? 여기서의 this 는 button 태그이기 때문에 count 라는 속성이 없음
        }

        버튼그리기메서드() {
          console.log('=================================');
          console.log('버튼그리기메서드 this:', this);
          console.log('=================================');

          const button = document.createElement('button');
          button.innerText = '카운트 올리는 버튼';
          button.addEventListener('click', this.카운트올림메서드.bind(this)); // 해결방법 2) this가 변경될 부분에, 미리 현재 로직상의 this를 연결(.bind)
          document.body.appendChild(button);
        }
      }

      window.onload = () => {
        const 카운터 = new 카운터클래스();
        카운터.버튼그리기메서드();
      };
    </script>
  </head>
  <body></body>
</html>
